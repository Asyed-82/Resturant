<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Caterix Dashboard - Manage Menu Items</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
      min-height: 100vh; 
    }
    .dashboard { display: flex; height: 100vh; }
    
    /* Sidebar */
    .sidebar { 
      width: 280px; 
      background: rgba(255,255,255,0.95); 
      backdrop-filter: blur(20px); 
      padding: 24px; 
      box-shadow: 2px 0 20px rgba(0,0,0,0.1);
    }
    .logo-section { 
      text-align: center; 
      margin-bottom: 48px; 
      padding-bottom: 24px; 
      border-bottom: 1px solid #e5e7eb;
    }
    .logo-upload {
      width: 100px; height: 100px; 
      border-radius: 50%; 
      border: 3px dashed #d1d5db; 
      background: #f9fafb url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%236b7280"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/></svg>') center/40px no-repeat;
      cursor: pointer; transition: all 0.3s;
    }
    .logo-upload:hover, .logo-upload.has-image { border-color: #4f46e5; background-color: #f0f9ff; }
    .logo-upload img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
    .business-name { 
      font-size: 1.4rem; font-weight: 700; margin-top: 16px; 
      background: linear-gradient(135deg, #4f46e5, #7c3aed); 
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
    }
    
    .nav-list { list-style: none; }
    .nav-item { margin-bottom: 12px; }
    .nav-link { 
      display: flex; align-items: center; gap: 12px; 
      padding: 12px 16px; border-radius: 12px; 
      text-decoration: none; color: #374151; font-weight: 500; 
      transition: all 0.2s;
    }
    .nav-link:hover, .nav-link.active { 
      background: #e0e7ff; color: #4f46e5; 
      transform: translateX(4px);
    }
    .nav-link i { width: 20px; }
    
    /* Main content */
    .main { flex: 1; padding: 32px; overflow-y: auto; }
    .header {
      background: rgba(255,255,255,0.95); 
      backdrop-filter: blur(20px); 
      padding: 24px 32px; 
      border-radius: 24px; 
      margin-bottom: 32px; 
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      display: flex; justify-content: space-between; align-items: center;
    }
    .header h1 { font-size: 2rem; font-weight: 700; color: #111827; }
    .header-banner {
      height: 120px; width: 100%; 
      border-radius: 16px; 
      background: linear-gradient(135deg, #f8fafc, #e2e8f0);
      position: relative; overflow: hidden;
      cursor: pointer;
    }
    .header-banner::before {
      content: 'Click to upload banner image'; 
      position: absolute; top: 50%; left: 50%; 
      transform: translate(-50%,-50%); 
      color: #6b7280; font-size: 0.9rem;
    }
    .header-banner.has-image::before { display: none; }
    .header-banner img { width: 100%; height: 100%; object-fit: cover; }
    
    /* Menu management */
    .menu-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 24px; margin-top: 24px; }
    .menu-card { 
      background: white; 
      border-radius: 20px; 
      padding: 24px; 
      box-shadow: 0 4px 20px rgba(0,0,0,0.08); 
      border: 1px solid #f1f5f9;
      transition: all 0.3s;
    }
    .menu-card:hover { transform: translateY(-4px); box-shadow: 0 12px 40px rgba(0,0,0,0.15); }
    .menu-image {
      width: 100%; height: 160px; 
      border-radius: 16px; 
      background: #f8fafc; 
      position: relative; overflow: hidden; 
      margin-bottom: 16px; cursor: pointer;
    }
    .menu-image img { width: 100%; height: 100%; object-fit: cover; }
    .menu-image::after {
      content: 'ðŸ“· Click to change'; 
      position: absolute; top: 50%; left: 50%; 
      transform: translate(-50%,-50%); 
      background: rgba(0,0,0,0.7); color: white; 
      padding: 8px 16px; border-radius: 999px; 
      font-size: 0.8rem; opacity: 0; transition: 0.3s;
    }
    .menu-image:hover::after { opacity: 1; }
    input[type="file"] { display: none; }
    
    .menu-form label { display: block; margin-bottom: 6px; font-size: 0.85rem; color: #374151; font-weight: 500; }
    .menu-form input, .menu-form select, .menu-form textarea { 
      width: 100%; padding: 10px 12px; 
      border: 1px solid #d1d5db; border-radius: 12px; 
      font-size: 0.9rem; margin-bottom: 12px;
    }
    .menu-form textarea { resize: vertical; min-height: 60px; }
    .menu-actions { display: flex; gap: 8px; }
    .btn { 
      flex: 1; padding: 10px 16px; 
      border-radius: 12px; border: none; 
      cursor: pointer; font-weight: 600; 
      font-size: 0.85rem; transition: 0.2s;
    }
    .btn-primary { background: #10b981; color: white; }
    .btn-primary:hover { background: #059669; }
    .btn-secondary { background: #f3f4f6; color: #374151; }
    .btn-secondary:hover { background: #e5e7eb; }
    .btn-danger { background: #ef4444; color: white; }
    .btn-danger:hover { background: #dc2626; }
    
    .empty-state {
      text-align: center; padding: 60px 24px; color: #6b7280;
    }
    .empty-state i { font-size: 4rem; margin-bottom: 16px; opacity: 0.5; }
    
    .saved { color: #10b981; font-size: 0.8rem; margin-left: 8px; }
  </style>
</head>
<body>
  <!-- Sidebar Navigation -->
  <aside class="sidebar">
    <div class="logo-section">
      <label for="logoUpload" class="logo-upload" title="Upload business logo">
        <img id="logoPreview" alt="Business Logo" />
      </label>
      <input type="file" id="logoUpload" accept="image/*">
      <div class="business-name" contenteditable="true" id="businessName">Caterix</div>
    </div>
    
    <ul class="nav-list">
      <li class="nav-item"><a href="#" class="nav-link active"><i class="fas fa-utensils"></i> Menu Items</a></li>
      <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-chart-line"></i> Orders</a></li>
      <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-users"></i> Customers</a></li>
      <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-cog"></i> Settings</a></li>
      <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
    </ul>
  </aside>

  <!-- Main Content -->
  <main class="main">
    <!-- Header with Banner -->
    <div class="header">
      <div>
        <h1>Menu Items</h1>
        <p style="color:#6b7280;">Manage your catering menu, prices, and images</p>
      </div>
      <label for="bannerUpload" class="header-banner" title="Upload header banner">
        <img id="bannerPreview" alt="Header Banner" />
      </label>
      <input type="file" id="bannerUpload" accept="image/*">
    </div>

    <!-- Menu Items Grid -->
    <div class="menu-grid" id="menuGrid">
      <!-- Dynamic menu items will appear here -->
      <div class="menu-card empty-state">
        <i class="fas fa-plus-circle"></i>
        <h3>Add Your First Menu Item</h3>
        <p>Click "Add New Item" to get started</p>
      </div>
    </div>

    <!-- Add New Item Button -->
    <div style="text-align: center; margin-top: 24px;">
      <button class="btn btn-primary" onclick="addNewMenuItem()">
        <i class="fas fa-plus"></i> Add New Menu Item
      </button>
    </div>
  </main>

  <script>
    // Sample menu data (in real app, load from backend)
    let menuItems = [
      {
        id: 1,
        name: 'Butter Chicken Tray',
        price: 95,
        category: 'Mains',
        image: '',
        description: 'Rich tomato cream sauce. Serves 10 with rice.',
        active: true
      }
    ];

    // Logo & Banner upload
    document.getElementById('logoUpload').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = (e) => {
          document.getElementById('logoPreview').src = e.target.result;
          document.getElementById('logoUpload').parentElement.classList.add('has-image');
        };
        reader.readAsDataURL(file);
      }
    });

    document.getElementById('bannerUpload').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = (e) => {
          document.getElementById('bannerPreview').src = e.target.result;
          document.getElementById('bannerUpload').parentElement.classList.add('has-image');
        };
        reader.readAsDataURL(file);
      }
    });

    // Business name edit
    document.getElementById('businessName').addEventListener('blur', (e) => {
      console.log('Business name updated:', e.target.textContent);
    });

    // Load menu items
    function renderMenuItems() {
      const grid = document.getElementById('menuGrid');
      grid.innerHTML = '';

      if (menuItems.length === 0) {
        grid.innerHTML = `
          <div class="menu-card empty-state">
            <i class="fas fa-utensils"></i>
            <h3>No menu items yet</h3>
            <p>Add your first catering item to get started</p>
          </div>
        `;
        return;
      }

      menuItems.forEach((item, index) => {
        const card = document.createElement('div');
        card.className = 'menu-card';
        card.innerHTML = `
          <label for="img-${item.id}" class="menu-image" title="Click to change image">
            ${item.image ? `<img src="${item.image}" alt="${item.name}">` : ''}
          </label>
          <input type="file" id="img-${item.id}" accept="image/*" style="display:none;" onchange="updateImage(${item.id}, this.files[0])">
          
          <div class="menu-form">
            <label>Name</label>
            <input type="text" value="${item.name}" onchange="updateItem(${item.id}, 'name', this.value)">
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
              <div>
                <label>Price ($)</label>
                <input type="number" value="${item.price}" onchange="updateItem(${item.id}, 'price', this.value)">
              </div>
              <div>
                <label>Category</label>
                <select onchange="updateItem(${item.id}, 'category', this.value)">
                  <option ${item.category === 'Starters' ? 'selected' : ''}>Starters</option>
                  <option ${item.category === 'Mains' ? 'selected' : ''}>Mains</option>
                  <option ${item.category === 'Sides' ? 'selected' : ''}>Sides</option>
                  <option ${item.category === 'Desserts' ? 'selected' : ''}>Desserts</option>
                  <option ${item.category === 'Beverages' ? 'selected' : ''}>Beverages</option>
                </select>
              </div>
            </div>
            
            <label>Description</label>
            <textarea onchange="updateItem(${item.id}, 'description', this.value)">${item.description}</textarea>
            
            <div class="menu-actions">
              <button class="btn btn-secondary" onclick="duplicateItem(${item.id})">
                <i class="fas fa-copy"></i> Duplicate
              </button>
              <button class="btn btn-danger" onclick="deleteItem(${item.id})" style="margin-left: auto;">
                <i class="fas fa-trash"></i> Delete
              </button>
            </div>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    // Add new item
    function addNewMenuItem() {
      const newId = menuItems.length ? Math.max(...menuItems.map(i => i.id)) + 1 : 1;
      menuItems.push({
        id: newId,
        name: 'New Item',
        price: 0,
        category: 'Mains',
        image: '',
        description: '',
        active: true
      });
      renderMenuItems();
    }

    // Update item fields
    function updateItem(id, field, value) {
      const item = menuItems.find(i => i.id === id);
      if (item) {
        item[field] = value;
        console.log(`Updated ${field} for item ${id}:`, value);
        // In real app: saveToBackend(item)
      }
    }

    // Update image
    function updateImage(id, file) {
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        const item = menuItems.find(i => i.id === id);
        if (item) {
          item.image = e.target.result;
          renderMenuItems();
        }
      };
      reader.readAsDataURL(file);
    }

    // Duplicate item
    function duplicateItem(id) {
      const original = menuItems.find(i => i.id === id);
      if (original) {
        const newId = Math.max(...menuItems.map(i => i.id)) + 1;
        menuItems.push({ ...original, id: newId });
        renderMenuItems();
      }
    }

    // Delete item
    function deleteItem(id) {
      if (confirm('Delete this menu item?')) {
        const index = menuItems.findIndex(i => i.id === id);
        if (index > -1) {
          menuItems.splice(index, 1);
          renderMenuItems();
        }
      }
    }

    // Initial load
    renderMenuItems();
  </script>
</body>
</html>
