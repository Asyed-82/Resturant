<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Caterix - Menu Items</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
      background: #f8fafc; color: #1e293b; 
    }
    
    /* Header with Logo */
    .header {
      background: white; padding: 20px 32px; 
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      display: flex; justify-content: space-between; align-items: center;
    }
    .logo-section {
      display: flex; align-items: center; gap: 16px;
    }
    .logo-upload {
      width: 60px; height: 60px; border-radius: 50%; 
      border: 2px dashed #cbd5e1; background: #f1f5f9;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      font-size: 24px; transition: all 0.3s;
    }
    .logo-upload:hover { border-color: #3b82f6; background: #eff6ff; }
    .logo-upload img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
    .business-name { font-size: 1.5rem; font-weight: 700; color: #1e293b; }
    
    /* Main content */
    .content { max-width: 1200px; margin: 32px auto; padding: 0 24px; }
    
    /* Tabs */
    .tabs { display: flex; background: white; border-radius: 12px; padding: 4px; margin-bottom: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .tab-btn { 
      flex: 1; padding: 12px 20px; border-radius: 8px; 
      border: none; background: none; cursor: pointer; 
      font-weight: 600; transition: all 0.2s;
    }
    .tab-btn.active { background: #3b82f6; color: white; }
    
    /* Menu Items */
    .menu-section { background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); margin-bottom: 24px; }
    .section-title { font-size: 1.3rem; font-weight: 700; margin-bottom: 20px; color: #1e293b; }
    
    .menu-grid { 
      display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
      gap: 20px; margin-top: 16px; 
    }
    
    .menu-item-form {
      border: 1px solid #e2e8f0; border-radius: 12px; 
      padding: 20px; background: #f8fafc;
    }
    .menu-image {
      width: 100%; height: 140px; border-radius: 8px; 
      background: #e2e8f0; display: flex; align-items: center; justify-content: center;
      cursor: pointer; margin-bottom: 16px; position: relative; overflow: hidden;
    }
    .menu-image:hover::after {
      content: 'ðŸ“· Upload image'; position: absolute; top: 50%; left: 50%;
      transform: translate(-50%,-50%); background: rgba(0,0,0,0.8); 
      color: white; padding: 8px 16px; border-radius: 20px; font-size: 12px;
    }
    .menu-image img { width: 100%; height: 100%; object-fit: cover; }
    
    .form-group { margin-bottom: 16px; }
    .form-group label { display: block; font-size: 0.85rem; color: #64748b; margin-bottom: 6px; font-weight: 500; }
    .form-group input, .form-group select, .form-group textarea {
      width: 100%; padding: 10px 12px; border: 1px solid #cbd5e1; 
      border-radius: 8px; font-size: 14px;
    }
    .form-group textarea { resize: vertical; min-height: 50px; }
    
    .form-actions { display: flex; gap: 12px; }
    .btn { 
      flex: 1; padding: 10px 16px; border-radius: 8px; 
      border: none; cursor: pointer; font-weight: 600; font-size: 14px;
    }
    .btn-primary { background: #10b981; color: white; }
    .btn-primary:hover { background: #059669; }
    .btn-danger { background: #f87171; color: white; }
    .btn-danger:hover { background: #ef4444; }
    
    /* Add new item button */
    .add-new { 
      background: white; border: 2px dashed #cbd5e1; 
      border-radius: 16px; padding: 40px 24px; 
      text-align: center; cursor: pointer; transition: all 0.3s;
      margin-bottom: 24px;
    }
    .add-new:hover { border-color: #3b82f6; background: #eff6ff; }
    .add-new i { font-size: 48px; color: #94a3b8; margin-bottom: 16px; }
    
    /* Settings Tab */
    .settings-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; }
    .setting-card { background: #f8fafc; padding: 24px; border-radius: 12px; border: 1px solid #e2e8f0; }
    
    @media (max-width: 768px) {
      .header { flex-direction: column; gap: 16px; text-align: center; }
      .content { padding: 0 16px; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="logo-section">
      <label for="logoInput" class="logo-upload" title="Upload Logo">
        <i class="fas fa-camera"></i>
        <img id="logoPreview" style="display: none;">
      </label>
      <input type="file" id="logoInput" accept="image/*" style="display: none;">
      <div class="business-name" contenteditable="true">Caterix</div>
    </div>
    <div>Caterix Dashboard</div>
  </header>

  <div class="content">
    <!-- Tabs -->
    <div class="tabs">
      <button class="tab-btn active" onclick="showTab('menu')">Menu Items</button>
      <button class="tab-btn" onclick="showTab('settings')">Settings</button>
    </div>

    <!-- Menu Items Tab -->
    <div id="menuTab" class="tab-content active">
      <div class="menu-section">
        <div class="section-title">
          <i class="fas fa-utensils"></i> Your Menu Items
        </div>
        
        <div class="menu-grid" id="menuGrid">
          <!-- Menu items will load here -->
        </div>
        
        <!-- Add New Item -->
        <div class="add-new" onclick="addNewItem()">
          <i class="fas fa-plus-circle"></i>
          <h3>Add New Menu Item</h3>
          <p>Upload image, set name, price, and category</p>
        </div>
      </div>
    </div>

    <!-- Settings Tab -->
    <div id="settingsTab" class="tab-content">
      <div class="menu-section">
        <div class="section-title">
          <i class="fas fa-cog"></i> Business Settings
        </div>
        <div class="settings-grid">
          <div class="setting-card">
            <h4>Service Area</h4>
            <p>Newtown, CT & 15 miles radius</p>
            <input type="text" placeholder="Update service area" style="width: 100%; margin-top: 12px; padding: 10px; border: 1px solid #cbd5e1; border-radius: 8px;">
          </div>
          <div class="setting-card">
            <h4>Minimum Order</h4>
            <p>$250 for 10+ guests</p>
            <input type="number" value="250" style="width: 100%; margin-top: 12px; padding: 10px; border: 1px solid #cbd5e1; border-radius: 8px;">
          </div>
          <div class="setting-card">
            <h4>Lead Time</h4>
            <p>48 hours notice required</p>
            <select style="width: 100%; margin-top: 12px; padding: 10px; border: 1px solid #cbd5e1; border-radius: 8px;">
              <option>24 hours</option>
              <option>48 hours</option>
              <option>72 hours</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let menuItems = [];
    let editingIndex = -1;

    const categories = [
      'Best Sellers', 'Soups and Salads', 'Appetizers', 'Momos', 
      'Himalayan Special', 'Entrees', 'Tandoori', 
      'Stir Fry Noodle and Rice', 'Side Orders', 'Dessert'
    ];

    // Logo upload
    document.getElementById('logoInput').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('logoPreview').src = e.target.result;
          document.getElementById('logoPreview').style.display = 'block';
          document.querySelector('.logo-upload i').style.display = 'none';
        };
        reader.readAsDataURL(file);
      }
    });

    // Tab switching
    function showTab(tabName) {
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
      
      event.target.classList.add('active');
      document.getElementById(tabName + 'Tab').classList.add('active');
    }

    // Add new menu item
    function addNewItem() {
      editingIndex = menuItems.length;
      menuItems.push({
        id: Date.now(),
        name: '',
        price: '',
        category: categories[0],
        image: '',
        description: ''
      });
      renderMenuItems();
    }

    // Render menu items
    function renderMenuItems() {
      const grid = document.getElementById('menuGrid');
      
      if (menuItems.length === 0) {
        grid.innerHTML = `
          <div class="menu-item-form" style="text-align: center; color: #94a3b8; padding: 40px;">
            <i class="fas fa-utensils" style="font-size: 48px; margin-bottom: 16px;"></i>
            <h3>No menu items yet</h3>
            <p>Click "Add New Menu Item" to create your first item</p>
          </div>
        `;
        return;
      }

      grid.innerHTML = menuItems.map((item, index) => `
        <div class="menu-item-form">
          <label for="image-${item.id}" class="menu-image" style="cursor: pointer;">
            ${item.image ? `<img src="${item.image}">` : '<i class="fas fa-image" style="font-size: 32px; color: #94a3b8;"></i>'}
          </label>
          <input type="file" id="image-${item.id}" accept="image/*" style="display: none;" 
                 onchange="updateImage(${item.id}, this.files[0])">
          
          <div class="form-group">
            <label>Name</label>
            <input type="text" value="${item.name}" placeholder="Item name" 
                   onchange="updateField(${index}, 'name', this.value)">
          </div>
          
          <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 12px;">
            <div class="form-group">
              <label>Description</label>
              <textarea placeholder="Brief description">${item.description}</textarea>
              onchange="updateField(${index}, 'description', this.value)"
            </div>
            <div>
              <div class="form-group">
                <label>Price ($)</label>
                <input type="number" value="${item.price}" placeholder="0.00" step="0.01"
                       onchange="updateField(${index}, 'price', this.value)">
              </div>
              <div class="form-group">
                <label>Category</label>
                <select onchange="updateField(${index}, 'category', this.value)">
                  ${categories.map(cat => 
                    `<option value="${cat}" ${item.category === cat ? 'selected' : ''}>${cat}</option>`
                  ).join('')}
                </select>
              </div>
            </div>
          </div>
          
          <div class="form-actions">
            <button class="btn btn-danger" onclick="deleteItem(${index})">
              <i class="fas fa-trash"></i> Delete
            </button>
          </div>
        </div>
      `).join('');
    }

    // Update field
    function updateField(index, field, value) {
      menuItems[index][field] = value;
      console.log('Updated:', field, value);
    }

    // Update image
    function updateImage(id, file) {
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        const item = menuItems.find(i => i.id === id);
        if (item) {
          item.image = e.target.result;
          renderMenuItems();
        }
      };
      reader.readAsDataURL(file);
    }

    // Delete item
    function deleteItem(index) {
      if (confirm('Delete this menu item?')) {
        menuItems.splice(index, 1);
        renderMenuItems();
      }
    }

    // Initial render
    renderMenuItems();
  </script>
</body>
</html>
